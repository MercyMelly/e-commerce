Table brand {
  brand_id int [pk, increment]
  brand_name varchar(100) [not null]
  brand_description text
  created_at timestamp [default: `now()`]
  updated_at timestamp [default: `now()`]
}

Table product_category {
  category_id int [pk, increment]
  category_name varchar(100) [not null]
  parent_category_id int [ref: > product_category.category_id, null]
  category_description text
  created_at timestamp [default: `now()`]
}

Table product {
  product_id int [pk, increment]
  product_name varchar(255) [not null]
  product_description text
  brand_id int [ref: > brand.brand_id, not null]
  category_id int [ref: > product_category.category_id, not null]
  base_price decimal(10,2) [not null]
  created_at timestamp [default: `now()`]
  updated_at timestamp [default: `now()`]
}

Table product_image {
  image_id int [pk, increment]
  product_id int [ref: > product.product_id, not null]
  image_url varchar(255) [not null]
  is_primary boolean [default: false]
  alt_text varchar(100)
  created_at timestamp [default: `now()`]
}

Table attribute_category {
  attribute_category_id int [pk, increment]
  category_name varchar(100) [not null]
  category_description text
}

Table attribute_type {
  attribute_type_id int [pk, increment]
  type_name varchar(50) [not null]
}

Table product_attribute {
  attribute_id int [pk, increment]
  attribute_name varchar(100) [not null]
  attribute_category_id int [ref: > attribute_category.attribute_category_id, not null]
  attribute_type_id int [ref: > attribute_type.attribute_type_id, not null]
  is_required boolean [default: false]
}

Table color {
  color_id int [pk, increment]
  color_name varchar(50) [not null]
  hex_code char(7) [not null]
}

Table size_category {
  size_category_id int [pk, increment]
  category_name varchar(50) [not null]
}

Table size_option {
  size_id int [pk, increment]
  size_category_id int [ref: > size_category.size_category_id, not null]
  size_value varchar(20) [not null]
  size_description varchar(100)
}

Table product_variation {
  variation_id int [pk, increment]
  product_id int [ref: > product.product_id, not null]
  variation_name varchar(100) [not null]
}

Table product_item {
  item_id int [pk, increment]
  product_id int [ref: > product.product_id, not null]
  SKU varchar(50) [unique, not null]
  price decimal(10,2) [not null]
  quantity_in_stock int [default: 0]
  created_at timestamp [default: `now()`]
  updated_at timestamp [default: `now()`]
}

Table product_item_variation {
  item_variation_id int [pk, increment]
  item_id int [ref: > product_item.item_id, not null]
  variation_id int [ref: > product_variation.variation_id, not null]
  color_id int [ref: > color.color_id, null]
  size_id int [ref: > size_option.size_id, null]
  custom_value varchar(255) [null]
}

Table product_attribute_value {
  attribute_value_id int [pk, increment]
  product_id int [ref: > product.product_id, not null]
  attribute_id int [ref: > product_attribute.attribute_id, not null]
  attribute_value text [not null]
}
